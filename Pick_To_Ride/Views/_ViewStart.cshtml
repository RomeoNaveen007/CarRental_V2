@using System.Security.Claims
@{
    string layout = "_GuestLayout" ; // Default for guests (not logged in)

    if (User.Identity != null && User.Identity.IsAuthenticated)
    {
        var claimsIdentity = User.Identity as ClaimsIdentity;
        var role = claimsIdentity?.FindFirst(ClaimTypes.Role)?.Value ?? "";

        switch (role)
        {
            case "Admin":
                layout = "_Layout"; // Admin layout
                break;
            case "Customer":
                layout = "_CustomerLayout"; // Customer layout
                break;
            case "Driver":
                layout = "_DriverLayout"; // Driver layout
                break;
            case "Staff":
                layout = "_StaffLayout"; // Staff layout
                break;
            default:
                layout = "_GuestLayout"; // fallback
                break;
        }
    }

    Layout = layout;
}


@* 
@{
    Layout = "_Layout";
} *@


